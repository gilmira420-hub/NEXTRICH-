<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<title>NEXTRICH</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{margin:0;font-family:Arial;background:#0b1020;color:#fff}
.hidden{display:none}
header{text-align:center;padding:14px;font-size:22px;background:#0f1533}
section{padding:16px 16px 110px}
.card{background:#151c3d;border-radius:14px;padding:14px;margin-bottom:12px}
input,select{width:100%;padding:10px;margin:6px 0;border-radius:10px;border:none}
button{padding:10px 14px;border-radius:12px;border:none;font-weight:bold;cursor:pointer}
.btn{background:#3b7cff;color:#fff}
.btn2{background:#1a245a;color:#9fc2ff}
nav{position:fixed;bottom:0;left:0;right:0;display:flex;background:#0f1533}
nav button{flex:1;background:none;color:#fff;border:none;padding:14px}
.elite{border:1px solid #3b7cff}
a{color:#7cc0ff;text-decoration:none}
.support{position:fixed;right:14px;bottom:80px;background:#25D366;color:#000;
padding:12px 14px;border-radius:50px;font-weight:bold}
.snow{pointer-events:none;position:fixed;top:0;left:0;width:100%;height:100%;
background:url('https://i.imgur.com/MN2QK9S.png') repeat;animation:snow 20s linear infinite;opacity:.25}
@keyframes snow{from{background-position:0 0}to{background-position:0 1000px}}
</style>
</head>

<body>
<div class="snow"></div>
<header>üéÑ NEXTRICH üíé</header>
<a class="support" href="https://t.me/Elite_rich7" target="_blank">üí¨ Support</a>

<!-- AUTH -->
<section id="authBlock">
  <div class="card">
    <h3>–í—Ö–æ–¥ / –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è</h3>
    <input id="email" placeholder="Email">
    <input id="pass" type="password" placeholder="–ü–∞—Ä–æ–ª—å">
    <button class="btn" onclick="login()">–í–æ–π—Ç–∏</button>
  </div>
</section>

<!-- HOME -->
<section id="home" class="hidden">
  <div class="card">
    Email: <b id="uEmail"></b><br>
    –ë–∞–ª–∞–Ω—Å: <b><span id="bal">0</span> USDT</b>
  </div>
</section>

<!-- ELITE -->
<section id="elite" class="hidden"></section>

<!-- TASKS -->
<section id="tasks" class="hidden">
  <div class="card">
    <h3>YouTube –∑–∞–¥–∞–Ω–∏—è</h3>
    <div id="taskList"></div>
  </div>
</section>

<!-- WALLET -->
<section id="wallet" class="hidden">
  <div class="card">
    <b>–ë–∞–ª–∞–Ω—Å:</b> <span id="bal2">0</span> USDT<br><br>
    <button class="btn2" onclick="withdraw()">–í—ã–≤–æ–¥ —Å—Ä–µ–¥—Å—Ç–≤</button>
  </div>
</section>

<!-- TOPUP -->
<section id="topup" class="hidden">
  <div class="card">
    <h3>–ü–æ–ø–æ–ª–Ω–µ–Ω–∏–µ</h3>
    <p>–û—Ç–ø—Ä–∞–≤—å —Å—Ä–µ–¥—Å—Ç–≤–∞ –∏ –Ω–∞–ø–∏—à–∏ –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É:</p>
    <b>USDT TRC20:</b><br>TRSEFWAFve44VnGkpkYDvnDKCWXbGo3fHu<br><br>
    <b>USDT ERC20:</b><br>0x386a41769648b8daca0c63271dc533ea787d67ba<br><br>
    <b>USDT Polygon:</b><br>0x386a41769648b8daca0c63271dc533ea787d67ba<br><br>
    <b>LTC:</b><br>Lf73TtKAVHGHuYMv5VjXbMVe67YY4ssLN1<br><br>
    <button class="btn" onclick="openSupport()">–Ø –æ–ø–ª–∞—Ç–∏–ª</button>
  </div>
</section>

<!-- ADMIN -->
<section id="admin" class="hidden">
  <div class="card">
    <h3>–ê–¥–º–∏–Ω ‚Äî YouTube –∑–∞–¥–∞–Ω–∏–µ</h3>
    <input id="ytLink" placeholder="YouTube —Å—Å—ã–ª–∫–∞">
    <select id="ytType">
      <option>–ü–æ–¥–ø–∏—Å–∫–∞</option>
      <option>–õ–∞–π–∫</option>
      <option>–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π</option>
    </select>
    <input id="ytReward" type="number" placeholder="–ù–∞–≥—Ä–∞–¥–∞ USDT">
    <button class="btn" onclick="addTask()">–î–æ–±–∞–≤–∏—Ç—å –∑–∞–¥–∞–Ω–∏–µ</button>
  </div>
  <div class="card">
    <h3>–ò–∑–º–µ–Ω–∏—Ç—å –±–∞–ª–∞–Ω—Å</h3>
    <input id="bEmail" placeholder="Email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è">
    <input id="bAmount" type="number" placeholder="–ë–∞–ª–∞–Ω—Å">
    <button class="btn2" onclick="setBalance()">–ò–∑–º–µ–Ω–∏—Ç—å</button>
  </div>
</section>

<!-- NAV -->
<nav id="nav" class="hidden">
  <button onclick="show('home')">–î–æ–º</button>
  <button onclick="show('elite')">ELITE</button>
  <button onclick="show('tasks')">–ó–∞–¥–∞—á–∏</button>
  <button onclick="show('wallet')">–ú–Ω–µ</button>
  <button id="adminBtn" class="hidden" onclick="show('admin')">–ê–¥–º–∏–Ω</button>
</nav>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.23.0/firebase-database-compat.js"></script>

<script>
// ================== –ù–ê–°–¢–†–û–ô–ö–ê FIREBASE ==================
// ‚ùó –í–°–¢–ê–í–¨ –°–í–û–ô –†–ï–ê–õ–¨–ù–´–ô CONFIG –ò–ó FIREBASE CONSOLE
firebase.initializeApp({
  apiKey: "PASTE_YOUR_API_KEY",
  authDomain: "PASTE_YOUR_PROJECT.firebaseapp.com",
  databaseURL: "https://PASTE_YOUR_PROJECT.firebaseio.com",
  projectId: "PASTE_YOUR_PROJECT"
});
// =======================================================

const fbAuth = firebase.auth();
const db = firebase.database();
const ADMIN_EMAIL = "admin@nextrich.com";

const ELITES=[
[1,10,3],[2,50,16],[3,200,68],[4,600,216],[5,1200,480],
[6,2400,1104],[7,4800,2496],[8,9600,5760],[9,19200,13440],[10,38400,32640]
];

// -------- AUTH --------
function login(){
  const e=email.value.trim(), p=pass.value;
  if(!e||!p){alert("–í–≤–µ–¥–∏—Ç–µ email –∏ –ø–∞—Ä–æ–ª—å");return;}
  fbAuth.signInWithEmailAndPassword(e,p)
    .catch(()=>fbAuth.createUserWithEmailAndPassword(e,p));
}

fbAuth.onAuthStateChanged(u=>{
  if(!u) return;
  authBlock.classList.add("hidden");
  nav.classList.remove("hidden");
  uEmail.textContent=u.email;
  if(u.email===ADMIN_EMAIL) adminBtn.classList.remove("hidden");
  show('home');

  const uref=db.ref("users/"+u.uid);
  uref.once("value",s=>{
    if(!s.exists()) uref.set({email:u.email,balance:0});
  });
  uref.child("balance").on("value",s=>{
    bal.textContent = bal2.textContent = s.val()||0;
  });

  renderElite();
  loadTasks();
});

// -------- UI --------
function show(id){
  document.querySelectorAll("section").forEach(s=>s.classList.add("hidden"));
  document.getElementById(id).classList.remove("hidden");
}

// -------- ELITE --------
function renderElite(){
  elite.innerHTML="";
  ELITES.forEach(e=>{
    elite.innerHTML+=`
    <div class="card elite">
      <b>ELITE ${e[0]}</b><br>
      –î–µ–ø–æ–∑–∏—Ç: ${e[1]} USDT<br>
      –î–æ—Ö–æ–¥/–¥–µ–Ω—å: ${e[2]} USDT<br><br>
      <button class="btn2" onclick="activateElite(${e[1]})">–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å</button>
    </div>`;
  });
}
function activateElite(){ show('topup'); }

// -------- TASKS --------
function addTask(){
  if(!ytLink.value || !ytReward.value){alert("–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–ª—è");return;}
  db.ref("tasks").push({
    link:ytLink.value,
    type:ytType.value,
    reward:Number(ytReward.value)
  });
  ytLink.value=""; ytReward.value="";
  alert("–ó–∞–¥–∞–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–æ");
}

function loadTasks(){
  db.ref("tasks").on("value",s=>{
    taskList.innerHTML="";
    if(!s.exists()){taskList.innerHTML="–ó–∞–¥–∞–Ω–∏–π –Ω–µ—Ç";return;}
    s.forEach(t=>{
      const x=t.val();
      taskList.innerHTML+=`
      <div class="card">
        <b>${x.type}</b><br>
        <a href="${x.link}" target="_blank">–û—Ç–∫—Ä—ã—Ç—å YouTube</a><br>
        –ù–∞–≥—Ä–∞–¥–∞: ${x.reward} USDT<br><br>
        <button class="btn" onclick="complete(${x.reward})">–Ø –≤—ã–ø–æ–ª–Ω–∏–ª</button>
      </div>`;
    });
  });
}

function complete(reward){
  const u=fbAuth.currentUser;
  db.ref("users/"+u.uid+"/balance").transaction(b=>(b||0)+reward);
  alert("–ù–∞–≥—Ä–∞–¥–∞ –Ω–∞—á–∏—Å–ª–µ–Ω–∞");
}

// -------- ADMIN BALANCE --------
function setBalance(){
  if(!bEmail.value){alert("–í–≤–µ–¥–∏—Ç–µ email");return;}
  db.ref("users").orderByChild("email").equalTo(bEmail.value)
  .once("value",s=>{
    if(!s.exists()){alert("–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω");return;}
    s.forEach(u=>{
      db.ref("users/"+u.key+"/balance").set(Number(bAmount.value||0));
    });
    alert("–ë–∞–ª–∞–Ω—Å –∏–∑–º–µ–Ω—ë–Ω");
  });
}

// -------- WITHDRAW / SUPPORT --------
function withdraw(){
  alert("–î–ª—è –≤—ã–≤–æ–¥–∞ –Ω–∞–ø–∏—à–∏—Ç–µ –≤ –ø–æ–¥–¥–µ—Ä–∂–∫—É");
  openSupport();
}
function openSupport(){
  window.open("https://t.me/Elite_rich7","_blank");
}
</script>
</body>
</html>
